<!DOCTYPE html>

<script>
    var data = <?!= JSON.stringify(data) ?>;
        console.log(data);
        function initialize() {
            const nicknameDropDown = document.getElementById("nickname");
            console.log(data);
            for (let key in data) {
                let option = document.createElement("option");
                option.setAttribute('value', data[key]);
                option.appendChild(document.createTextNode(data[key]))
                nicknameDropDown.appendChild(option);
            }
        }
        window.onload = initialize;
</script>


<html lang="en">
<head>
    <title>Run Query</title>
</head>

<body class="container">
    <div class="drop-down-container">
        <label for="nickname">Choose a connection</label>
        <select name="nickname" id="nickname">
        </select>
    </div>
    <div class="form-item-container">
        <label for="query">Query:</label>
        <input type="text" name="query" id="query">
        <br>
    </div>
    <div class="button-container">
        <button class="button" type="button" onclick="submit()">Run</button>
    </div>
    <script>
        function submit() {
            google.script.run.runQuery(document.getElementById("nickname").value, document.getElementById("query").value);
        }
    </script>
</body>

</html>